\documentclass[12pt, a4paper]{memoir} % for a short document
\usepackage[french,english]{babel}

\usepackage [vscale=0.76,includehead]{geometry}                % See geometry.pdf to learn the layout options. There are lots.
%\geometry{a4paper}                   % ... or a4paper or a5paper or ... 
%\geometry{landscape}                % Activate for for rotated page geometry
%\OnehalfSpacing
% \setSingleSpace{1.05}
%\usepackage[parfill]{parskip}    % Activate to begin paragraphs with an empty line rather than an indent


%===================================== packages
\usepackage{lipsum}
\usepackage{graphicx}
\usepackage{amsmath}
\usepackage{fullpage}
\usepackage{mathptmx} % font = times
\usepackage{helvet} % font sf = helvetica
\usepackage[latin1]{inputenc}
\usepackage{relsize}
\usepackage[T1]{fontenc}
\usepackage{tikz}
\usepackage{booktabs}
\usepackage{textcomp}%textquotesingle
\usepackage{multirow}
\usepackage{pgfplots}
\usepackage{url}
\usepackage{footnote}
\usepackage{subcaption}
\usepackage{amsfonts}
\usepackage{listings}
\usepackage{xcolor}
\usepackage{float}
\usepackage{wrapfig}

\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}

\lstdefinestyle{mystyle}{
    backgroundcolor=\color{backcolour},   
    commentstyle=\color{codegreen},
    keywordstyle=\color{magenta},
    numberstyle=\tiny\color{codegray},
    stringstyle=\color{codepurple},
    basicstyle=\ttfamily\footnotesize,
    breakatwhitespace=false,         
    breaklines=true,                 
    captionpos=b,                    
    keepspaces=true,                 
    numbers=left,                    
    numbersep=5pt,                  
    showspaces=false,                
    showstringspaces=false,
    showtabs=false,                  
    tabsize=4
}

\lstset{style=mystyle}

\newcommand{\IFa}{\uparrow\mathrm{IF}}
\newcommand{\IFr}{\downarrow\mathrm{IF}}
\newcommand{\IDa}{\uparrow\mathrm{ID}}
\newcommand{\IDr}{\downarrow\mathrm{ID}}
\newcommand{\FUa}{\uparrow\mathrm{FU}}
\newcommand{\FUr}{\downarrow\mathrm{FU}}
\newcommand{\COM}{\mathrm{COM}}

%============================================
\usetikzlibrary{arrows,shapes,positioning,shadows,trees}
\makesavenoteenv{tabular}
\makesavenoteenv{table}
%==============================================
\def\checkmark{\tikz\fill[scale=0.4](0,.35) -- (.25,0) -- (1,.7) -- (.25,.15) -- cycle;}
%Style des têtes de section, headings, chapitre
\headstyles{komalike}
\nouppercaseheads
\chapterstyle{dash}
\makeevenhead{headings}{\sffamily\thepage}{}{\sffamily\leftmark} 
\makeoddhead{headings}{\sffamily\rightmark}{}{\sffamily\thepage}
\makeoddfoot{plain}{}{}{} % Pages chapitre. 
\makeheadrule{headings}{\textwidth}{\normalrulethickness}
%\renewcommand{\leftmark}{\thechapter ---}
\renewcommand{\chaptername}{\relax}
\renewcommand{\chaptitlefont}{ \sffamily\bfseries \LARGE}
\renewcommand{\chapnumfont}{ \sffamily\bfseries \LARGE}
\setsecnumdepth{subsection}


% Title page formatting -- do not change!
\pretitle{\HUGE\sffamily \bfseries\begin{center}} 
\posttitle{\end{center}}
\preauthor{\LARGE  \sffamily \bfseries\begin{center}}
\postauthor{\par\end{center}}
\newcommand{\jury}[1]{% 
\gdef\juryB{#1}} 
\newcommand{\juryB}{} 
\newcommand{\session}[1]{% 
\gdef\sessionB{#1}} 
\newcommand{\sessionB}{} 
\newcommand{\option}[1]{% 
\gdef\optionB{#1}} 
\newcommand{\optionB} {}

\usepackage{xcolor}
\newcommand{\TODO}[1]{\colorbox{red!30}{TODO: \textbf{#1}}}
% \newcommand{\TODO}[1]{}

\usepackage[most]{tcolorbox}
\newcounter{example}
\newtcolorbox{examplebox}[2][]{
    colback=gray!10,
    colframe=gray!80,
    boxrule=0.5pt,
    arc=3pt,
    left=6pt,
    right=6pt,
    top=4pt,
    bottom=4pt,
    fonttitle=\bfseries,
    title={Example~#2:~#1}
}
\newenvironment{example}[1][]{
    \refstepcounter{example}
    \begin{examplebox}[#1]{\theexample}
}{
    \end{examplebox}
}

\newcounter{assumption}
\newtcolorbox{assumptionbox}[2][]{
    colback=blue!5,
    colframe=blue!40,
    boxrule=0.5pt,
    arc=3pt,
    left=6pt,
    right=6pt,
    top=4pt,
    bottom=4pt,
    fonttitle=\bfseries,
    title={Assumption~#2:~#1}
}
\newenvironment{assumption}[1][]{
    \refstepcounter{assumption}
    \begin{assumptionbox}[#1]{\theassumption}
}{
    \end{assumptionbox}
}

\renewcommand{\maketitlehookd}{% 
\vfill{}  \large\par\noindent  
\begin{center}\juryB \bigskip\sessionB\end{center}
\vspace{-1.5cm}}
\renewcommand{\maketitlehooka}{% 
\vspace{-1.5cm}\noindent\includegraphics[height=12ex]{pics/logo-uga.png}\hfill\raisebox{2ex}{\includegraphics[height=14ex]{pics/logoINP.png}}\\
\bigskip
\begin{center} \large
Master of Science in Informatics at Grenoble \\
Master Informatique \\ 
Specialization \optionB  \end{center}\vfill}
% =======================End of title page formatting

\option{Parallel Computing and Distributed Systems} 
\title{Timing Anomaly through Branch Prediction} %\\\vspace{-1ex}\rule{10ex}{0.5pt} \\sub-title} 
\author{Andrei Ilin}
\date{Defense Date, 2025} % Delete this line to display the current date
\jury{
Research project performed at VERIMAG \\\medskip
Under the supervision of:\\
Lionel Rieg\\\medskip
Florian Brandner\\\medskip
Mihail Asavoae\\\medskip
% Defended before a jury composed of:\\
% Head of the jury\\
% Jury member 1\\
% Jury member 2\\
}
\session{June \hfill 2025}
\setcounter{tocdepth}{4}
\setcounter{secnumdepth}{4}

%%% BEGIN DOCUMENT
\begin{document}
\selectlanguage{English} % french si rapport en français
\frontmatter
\begin{titlingpage}
\maketitle
\end{titlingpage}

%\small
\setlength{\parskip}{-1pt plus 1pt}

\renewcommand{\abstracttextfont}{\normalfont}
\abstractintoc
\begin{abstract} 
In this report, we consider counter-intuitive timing anomalies (TAs) due to branch prediction in out-of-order (OoO) processor pipelines. A TA is a phenomenon when a local speedup in instruction execution leads to a global slowdown. We overview the existing TAs definitions and evaluate the applicability of the most promising one to branch prediction, using a novel ad-hoc model checking tool. Finally, we show that although the chosen definition adequately capture some TAs caused by branch prediction, its definition of causality cannot always capture the proper causality connections. This suggests that finding consistent TA definition encompassing branch prediction is still an open problem.

\end{abstract}
\abstractintoc

% \renewcommand\abstractname{Acknowledgement}
% \begin{abstract}
% I would like to express my sincere gratitude to .. for his invaluable assistance and comments in reviewing this report... 
% Good luck :) 
% \end{abstract}


\renewcommand\abstractname{R\'esum\'e}
\begin{abstract} \selectlanguage{French}
Dans ce rapport, nous \'etudions les anomalies temporelles contre-intuitives dues \`a la pr\'ediction de branchement dans les pipelines de processeurs \`a ex\'ecution dans le d\'esordre. Une TA est un ph\'enom\`ene o\`u une acc\'el\'eration locale de l'ex\'ecution d'une instruction conduit \`a un ralentissement global de l'ex\'ecution. Nous passons en revue les d\'efinitions existantes des TAs et \'evaluons l'applicabilit\'e de la plus prometteuse \`a la pr\'ediction de branchement, en utilisant un nouvel outil de model checking ad hoc. Enfin, nous montrons que, bien que la d\'efinition choisie capture correctement certaines TAs caus\'ees par la pr\'ediction de branchement, sa d\'efinition de la causalit\'e ne permet pas toujours de bien saisir les bons liens de causalit\'e. Cela sugg\`ere que concevoir une d\'efinition coh\'erente des TAs englobant la pr\'ediction de branchement reste un probl\`eme ouvert.
\end{abstract}
\selectlanguage{English}

\cleardoublepage

\tableofcontents* % the asterisk means that the table of contents itself isn't put into the ToC
\normalsize

\mainmatter
\SingleSpace
%==============================CHAPTERS==================
\include{./chapters/1_Introduction}
\include{./chapters/2_Background}
\include{./chapters/3_State-of-the-Art}
\include{./chapters/4_Contribution}
\include{./chapters/6_Conclusion}
%=========================================================


%=========================================================
\backmatter

\bibliographystyle{plain} % plain-fr si rapport en français 
\bibliography{bibfile.bib}

% \include{./chapters/7_Appendix}

%\cleardoublepage % Goes to an odd page
%\pagestyle{empty} % no page number
%~\newpage % goes to a new even page

\end{document}